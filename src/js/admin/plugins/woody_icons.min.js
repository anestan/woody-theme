!function (o, n) { var i = "", t = !1, e = function (n) { tinymce.ScriptLoader.loadQueue(), n.windowManager.open({ title: "Ajouter un pictogramme", width: 600, height: 600, body: [{ type: "container", name: "woody-icons-container", html: '<ul class="woody-icons-list" style="display:flex; flex-wrap:wrap; margin:0; height: 580px; overflow: scroll;">' + i + "</ul>" }], onsubmit: function (i) { var t = o(".woody-icons-list").find(".selected").find("span").attr("class"); void 0 !== t && n.insertContent('&nbsp;<span class="' + t + '">&nbsp;</span>&nbsp;') } }), o(".woody-icon-list-el").click(function () { o(".woody-icon-list-el.selected").removeClass("selected").css({ color: "black", "background-color": "white" }), o(this).addClass("selected").css({ color: "white", "background-color": "#0085ba" }) }) }; tinymce.create("tinymce.plugins.woody_icons", { init: function (n, s) { n.addButton("woody_icons", { image: s + "/star.svg", title: "Pictogrammes", onclick: function () { 0 == t ? o.ajax({ type: "POST", dataType: "json", url: ajaxurl, data: { action: "woody_icons_list" }, success: function (o) { const s = {}; Object.keys(o).sort().forEach(function (n) { s[n] = o[n] }); for (let [o, n] of Object.entries(s)) i += '<li class="woody-icon-list-el" style="width: 25%; padding: 20px; cursor:pointer; box-sizing:border-box; display:flex; flex-direction:column; align-items:center; justify-content:center"><span class="wicon ' + o + '" style="font-size:40px;"></span><span>' + n + "</span></li>"; t = !0, e(n) }, error: function () { } }) : e(n) } }) } }), tinymce.PluginManager.add("woody_icons", tinymce.plugins.woody_icons) }(jQuery);
